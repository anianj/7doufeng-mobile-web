define("saber-ajax/ejson",["require","./ajax","saber-promise","saber-lang/bind","saber-lang/extend","saber-emitter"],function(require){function t(t,i){var o=new n,a=e.request(t,i);return a.then(function(t){try{if(t=JSON.parse(t),!t.status)o.fulfill(t.data);else o.reject(t)}catch(e){o.reject({status:s.DATA})}},function(t){if("string"==typeof t)t=s[t.toUpperCase()]||s.ERROR;o.reject({status:t})}),a.promise=o.promise(),a.promise.then(r(exports.emit,exports,"success",a),r(exports.emit,exports,"fail",a)),a.handleSuccess=!1,a.handleFail=!1,a}var e=require("./ajax"),n=require("saber-promise"),r=require("saber-lang/bind"),i=require("saber-lang/extend"),o=require("saber-emitter"),s={DATA:-1,ABORT:-2,TIMEOUT:-3,ERROR:-500},exports={};return o.mixin(exports),exports.get=function(e,n){var r={method:"GET",data:n};return t(e,r)},exports.post=function(e,n){var r={method:"POST",data:n};return t(e,r)},exports.request=t,exports.ERROR=i({},s),exports});