define("saber-uri/util/uri-parser",["require","saber-lang/extend"],function(require){function t(t){var e={},n=["scheme","username","password","host","port","path","query","fragment"];return n.forEach(function(n){e[n]=t[n]||o}),e}function e(t){var e={};return t.replace(/^([^@]+@)?([^:]+)(:\d+)?$/,function(t,n,r,i){if(n)n=n.substring(0,n.legnth-1),n=n.split(":"),e.username=n[0],e.password=n[1];if(e.host=r,i)e.port=i.substring(1)}),e}function n(t,n){var r=/[^:]+:\d{2,}(\/|$)/.test(t);if(r)if(t=t.split("/"),s(n,e(t.shift())),t.length>0)n.path="/"+t.join("/");return r}function r(t,e){var n=t.indexOf(":"),r=t.indexOf("/");r=r>=0?r:t.length;var i=n>=0&&r>n;if(i)e.scheme=t.substring(0,n),e.path=t.substring(n+1);return i}function i(t){var i={},o=t.indexOf("#");if(o>=0)i.fragment=t.substring(o+1),t=t.substring(0,o);if(o=t.indexOf("?"),o>=0)i.query=t.substring(o+1),t=t.substring(0,o);if(o=t.indexOf("://"),o>=0){if(i.scheme=t.substring(0,o),t=t.substring(o+3),"file"===i.scheme)i.path=t;else if(t=t.split("/"),s(i,e(t.shift())),t.length>0)i.path="/"+t.join("/");return i}if(n(t,i))return i;if(r(t,i))return i;if(t=t.split("/"),i.host=t.shift(),t.length>0)i.path="/"+t.join("/");return i}var o,s=require("saber-lang/extend");return function(e){if("string"==typeof e||e instanceof String)e=i(e);return t(e)}});